### 01MySQL优化

#### 性能监控

##### show processlist

#### schema与数据类型优化

##### 数据类型的优化

1. 更小的通常更好

2. 简单就好

   INET_ATON('192.168.11.1'): ip地址转换为整型;

   INET_NTOA('3232256792'): 将整型转换为ip地址。

3. 避免使用null

4. 实际细则

   a、整型类型：尽量使用满足需求的最小数据类型

   b、字符和字符串类型：varchar 和 char blog 和 text

   c、时间类型：

   ​	datatime  8个字节  时间范围比较大 精确到毫秒

   ​	timestamp 4个字节 时间范围到2038-01-19 精确到秒 采用整型存储 依赖数据库设置时区 自动timestamp列的值

   ​	date：3个字节 利用时间函数进行日期计算 data1000-01-01到 9999-12-31

   ​	不使用字符串存储日期类型，占用空间大，损失日期类型函数的便捷性。

   d、使用枚举类型代替常用字符串：create 

5. 特殊类型数据：保存ip地址。

类型设计好可以节省空间。

##### 合理使用范式和反范式

##### 主键的选择

##### 字符集的选择

##### 存储引擎的选择

##### 适当的数据冗余

##### 适当的拆分

#### 执行计划

##### MySQL的执行计划



#### 通过索引进行优化



