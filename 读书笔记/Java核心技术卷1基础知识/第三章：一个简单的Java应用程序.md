### 第三章：一个简单的Java应用程序

1. 本章主要介绍程序设计的基本概念(如数据类型、分支以及循环)在Java中实现方式。

2. 一个简单的Java应用程序

   1. 修饰符用于控制程序的其他部分对这段代码的访问级别。
   2. 关键字class表明Java程序中的全部内容都包含在类中。类作为一个加载程序逻辑的容器。
   3. 类的源文件中必须包含一个main方法。
   4. Java中任何方法的代码都有“{”开始，用“}”结束。
   5. Java每个句子必须用分号结束。
   6. “.”用于调用方法。方法等价于函数调用。

3. 注释：

   1. // 注释内容//开始到本行结尾。
   2. /* 和*/将一段比较长的注释括起来。
   3. 注释文档，"/**"开始,"\*/"结束。

4. 数据类型

   1. Java是一种强类型语言。必须为每个变量声明一种类型。8种基本类型（primitive type），其中4种整型，2种浮点类型，1种用于表示Unicode编码的字符单元的字符类型char（请参见论述char类型的章节）和1种用于表示真值的boolean类型。

   2. 整型：

      int类型最常用（4字节）；

      星球上的居住人数数据类型的话用long类型（8个字节）。

      byte和short类型主要用于特定的应用场合（1个字节，2两个字节）。

      底层的文件处理或者需要控制占用存储空间量的大数组。
      
      
      
      > C和C++程序需要针对不同的处理器选择最为高效的整型，这样就有可能造成一个在32位处理器上运行很好的C程序在16位系统上运行却发生整数溢出。由于Java程序必须保证在所有机器上都能够得到相同的运行结果，所以各种数据类型的取值范围必须固定。
      
      Java的移植性优秀通过这个硬性的规定来实现。
      
   3. 浮点类型：

      Java中两种浮点类型。double（8字节），float（4个字节）类型。

      double表示这种类型的数值精度是float类型的两倍。

      很少的情况适合使用float类型，例如，需要单精度数据的库，或者需要存储大量数据。

      float数值加后缀F或f，double可以加D或d。

      浮点数值不适合用于无法接受舍入误差的金融计算中。例如：命令System.out.println（2.0-1.1）将打印出0.8999999999999999，而不是人们想象的0.9。

      不允许有任何舍入误差，就应该使用BigDecimal类

   4. char类型

      char类型原本用于表示单个字符，现在情况已经有所改变，有些Unicode字符可以用一个char值描述，还有一些Unicode字符则需要两个char值。

      要想弄清char类型，就必须了解Unicode编码机制。

      Unicode编码机制解决一是世界上存在不同的编码集的问题，二是采用大字符集语言其编长度有可能不同的问题。

      我们强烈建议不要在程序中使用char类型，除非确实需要处理UTF-16代码单元。

   5. boolean类型：

      有两个值true和false。

      整型值和布尔值之间不能进行相互转换。

5. 变量

   1. java中每个变量都必须有一个类型（type）；
   2. 变量名字母开头，由字母和数字构成序列。“$”这个尽量不要使用,它只用在Java编译器或其他工具生成的名字中。
   3. 必须用赋值语句对变量进行显式初始化，千万不要使用未初始化的变量,要不然会出现异常variable not initialized。
   4. 利用关键字final指示常量

6. 运算符

   1. +、-、*、/表示加、减、乘、除运算。当参与/运算的两个操作数都是整数时，表示整数除法；否则，表示浮点除法。

   2. 用%表示取模。

   3. 整数被0除将会产生一个异常，而浮点数被0除将会得到无穷大或NaN结果。

   4. 对于使用strictfp关键字标记的方法必须使用严格的浮点计算来生成可再生的结果。

   5. Math类中，包含了各种各样的数学函数。

   6. Math.sqrt(x),求平方根。

   7. Math.pow（x，a）求x的a次幂。

   8. Math.floorMod() 解决一个长期存在的有关整数余数的问题。余数总是>=0,但是负除数也会得到负数。

   9. 常用的三角函数：sin（），cos（），tan（），atan（），atan2（）。

   10. 指数函数和其反函数：exp（），log（），log10（）。

   11. 数值之间的转换：小转大无精度损失，大转小精度损失。

   12. 两个数值进行二元操作时（例如n + f, n是整数，f是浮点数），先要将两个操作数转换为同一种类型

       ```java
       if(其中一个是double) {
           另一个转换为double
       }else if(其中一个是float) {
           另一个转换成float
       }else if(一个是long){
           另一个转换成long
       } else {
           两个操作数都转换成int
       }
       ```

   13. 强制类型转换

       例如double转化为int(大转小),需要通过强制类型转换（cast）实现这个操作。double转int通过截断小数部分将浮点值转换为整型。如果要四舍五入的话需要通过Math.round(),返回值是long。

   14. 结合赋值和运算符 ：x+=4；

   15. 自增与自减运算符：n++；操作数不能是数值。++n，n++：前缀形式会先完成加1；而后缀形式会使用变量原来的值。

   16. 关系和boolean运算符：== (相等)，！=(不能)，<（小于）、>（大于）、<=（小于等于）和>=（大于等于）运算符。&&表示逻辑“与”运算符，使用||表示逻辑“或”运算符。三元运算:?:,例子x<y?x:y，取x和y比较小的值。

   17. 位运算符：& and运算 | or运算  ^xor(异或) 运算 ~ not(非)运算。还有>>和<<运算符将位模式左移或右移。

   18. 括号与运算符级别：

       1. &&的优先级比||的优先级高
       2. +=是右结合运算符

   19. 枚举类型

       1. 变量的取值只在一个有限的集合内
       2. enum Size {X,XL,XXL}；

   20. 字符串

       1. Java字符串就是Unicode字符序列
       2. 每个用双引号括起来的字符串都是String类的一个实例
       3. 子串:  String类的substring方法可以从一个较大的字符串提取出一个子串。字符串s.substring(a, b)的长度为b-a
       4. 拼接: Java语言允许使用+号连接（拼接）两个字符串。其他类型与字符串拼接,转换成字符串类型。Object类中有toString（）方法；
       5. 不可变字符串：String类没有提供用于修改字符串的方法;变量可以修改但是字符串不可以修改。
          1. 这样做是否会降低运行效率呢？ -》不能修改会有效率的影响，但是不可变字符串却有一个优点：编译器可以让字符串共享。Java的设计者共享带来的高效率，远远大于重新拼接字符串的效率。
       6. 检测字符串是否相等：使用equals方法检测两个字符串是否相等。
       7. 空串与Null串：“”空串和null值；空串有length，等于0；null没有length。
       8. 码点与代码单元：String调用s.charAt(n)将返回位置n的代码单元。
       9. String API：很多常用的
       10. 构建字符串：每次连接字符串，都会构建一个新的String对象，既耗时，又浪费空间；使用StringBuilder类就可以避免这个问题的发生。
       
   21. 输入和输出

       1. 读取输入: 构造一个Scanner对象，并与“标准输入流”System.in关联。

          ```java
          Scanner scanner = new Scanner(System.in);
          String s = scanner.nextLine();
          System.out.println(s);
          ```

       2. nextLine():读取一行;next（）：读取一个词；nextInt（）：读取整数；nextDouble（）读取浮点数。

       3. Console类实现密码隐藏的功能。readPassword（）；

       4. 格式化输出：System.out.printf();

          

          ```java
          System.out.printf("%8.2f",x); // 8个字符宽度和小数点后两个字符的精度打印
          ```

          ​	转化符: %s:字符串.%d:十进制整数;%f:转化为浮点等；

          ​	日期和时间的转化符。

       5.  文件的输入与输出：

          1. 文件读取：new  Scanner（Paths.get("myFile.txt"),"UTF-8"）;
          2. 文件输出: PrintWriter("myFile.txt","UTF-8")。print、println以及printf命令输入内容。

   22. 控制流程：

       条件语句，循环语句，switch语句

       条件语句：

       ​	块作用域：一对大括号。块指定了变量的作用域。

       ​	条件语句的格式：if（）else {}

       循环语句：

       ​	while（condition）{} :先执行条件判断,后执行循环体,可能循环体一次都不执行。

       ​	do/while :	先执行一次循环体,然后进行条件判断。

       ​	for：for循环语句是支持迭代的一种通用结构，利用每次迭代之后更新的计数器或类似的变量来控制迭代次数。注意：for循环使用浮点数来做判断。可能永远不会结束。由于舍入的误差，最终可能得不到精确值。

       多重选择：switch语句：switch...case...befault;

       有可能触发多个case分支。如果在case分支语句的末尾没有break语句，那么就会接着执行下一个case分支语句。

       中断控制流程语句：

       break不带标签跳出循环语句，跳出switch语句。Java还提供了一种带标签的break语句，用于跳出多重嵌套的循环语句。

       continue语句将控制转移到最内层循环的首部。

   23. 大数值：

       两个很有用的类：BigInteger和BigDecimal

       BigInteger ：add（） subtract(）multiply（）divide（）mod() compareTo()  valueOf()。

       BigDecimal：add（） subtract(）multiply（）divide（）；

       注意：RoundingMode.HALF_UP是在学校中学习的四舍五入方式。

   24. 数组：

       数组是一种数据结构，用来存储同一类型值的集合。

       int [] a;或者int[] a = new int[100]; 

       数组长度不要求是常量：new int[n]会创建一个长度为n的数组。

       数组的下标从0～99（不是1～100）。 并且试图访问元素a[100]（或任何在0～99之外的下标），程序就会引发**“array index out of bounds”**异常而终止执行。

       一旦创建了数组，就不能再改变它的大小（尽管可以改变每一个数组元素）。

   25. for each循环

       collection这一集合表达式必须是一个数组或者是一个实现了Iterable接口的类对象（例如ArrayList）。

       for each循环语句的循环变量将会遍历数组中的每个元素，而不需要使用下标值。

       如果不希望遍历集合中的每个元素,或者循环内部需要使用下标值等，不能使用for each。

   26. 数组初始化以及匿名数组

       ```java
       int[] a = {1,2,3,4,5,6};
       ```

       Java中允许创建一个长度为0的数组:

       ```java
       new int[0];
       ```

   27.  数组拷贝:

       允许将一个数组变量拷贝给另一个数组变量。这时，两个变量将引用同一个数组：

       ```java
       int[] luckNumbers = smallPrimes;
       luckNumbers[5] = 12;
       ```

       就要使用Arrays类的copyOf方法:

       ```java
       int[] arr = Arrays.copyOf(luckNumbers,luckNumbers.length);
       ```

       第二个参数是新数组的长度;如果长度小于原始数组的长度，则只拷贝最前面的数据元素。

   28. 命令行参数

       通过main方法中"String[] args" 接收Java xxx -args;

   29. 数组排序:

       使用Arrays类中的sort方法。使用了优化的快速排序算法。

       Arrays工作类中的方法：toString（）将数组字符串化； copyOf（）复制数组；copyOfRange（）截断复制数组；sort（）；fill()设置元素中的默认值；

   30. 多维数组：

       多维数组将使用多个下标访问数组元素，它适用于表示表格或更加复杂的排列形式。

       for each循环语句不能自动处理二维数组的每一个元素。要想访问二维数组a的所有元素，需要使用两个嵌套的循环。

       快速打印一个二维数组：Arrays.deepToString(a);

   31. 不规则数组: 

       

       

       

       

       

       

       

       ​	

       

       

       

       

       

       

       

       

       

       

       

       

       

       

       

       

       

